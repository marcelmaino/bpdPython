refactor: Atualiza lógica principal e interações com o banco de dados

- Realiza ajustes e melhorias no arquivo principal da aplicação (`app.py`) e nas funções de interação com o banco de dados (`database.py`).